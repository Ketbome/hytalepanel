#!/bin/sh

echo "ğŸš€ Running pre-push checks..."

# Backend checks
echo "\nğŸ“¦ Backend checks:"
cd panel/backend

echo "  â†’ Type check..."
pnpm check || {
  echo "âŒ Backend type check failed"
  exit 1
}

echo "  â†’ Lint..."
pnpm lint || {
  echo "âŒ Backend lint failed"
  exit 1
}

echo "  â†’ Tests..."
pnpm test || {
  echo "âŒ Backend tests failed"
  exit 1
}

# Frontend checks
echo "\nğŸ¨ Frontend checks:"
cd ../frontend

echo "  â†’ Type check..."
pnpm check || {
  echo "âŒ Frontend type check failed"
  exit 1
}

echo "  â†’ Lint..."
pnpm lint || {
  echo "âŒ Frontend lint failed"
  exit 1
}

echo "\nâœ… All checks passed! Ready to push."
