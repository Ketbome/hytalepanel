#!/bin/sh

echo "ğŸ” Running pre-commit checks..."

# Backend lint auto-fix
echo "\nğŸ“¦ Backend: Auto-fixing lint..."
cd panel/backend
pnpm lint:fix
git add -u

pnpm lint || {
  echo "âŒ Backend lint errors found that cannot be auto-fixed"
  exit 1
}

# Frontend lint auto-fix
echo "\nğŸ¨ Frontend: Auto-fixing lint..."
cd ../frontend
pnpm lint:fix
git add -u

pnpm lint || {
  echo "âŒ Frontend lint errors found that cannot be auto-fixed"
  exit 1
}

echo "\nâœ… Pre-commit checks passed!"
